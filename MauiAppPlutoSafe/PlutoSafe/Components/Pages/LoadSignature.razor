@* @page "/" *@
@* no need fot @page as this is not a page 
it is jyat a component within some other page
 so we will not use this @page *@
@inject IJSRuntime JS

@* <div class="signature-container"> *@
<div class="signature-container" style="width:100%; height:100%;">
    <canvas id="loanSignatureCanvas"
        style="width:100%; height:100%; background:#e48383; border:1px solid #9b2f2f; border-radius:8px;">
    </canvas>

    <div style="margin-top:10px;">
        <button @onclick="Clear">Clear</button>
        <button @onclick="Save">Save</button>
    </div>
</div>

@code {

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("initSignature", "loanSignatureCanvas");
        }
    }

    private async Task Clear()
    {
        await JS.InvokeVoidAsync("clearSignature");
    }

    private async Task Save()
    {
        var base64 = await JS.InvokeAsync<string>("getSignature");

        if (!string.IsNullOrEmpty(base64))
        {
            Console.WriteLine(base64);
        }
    }
}